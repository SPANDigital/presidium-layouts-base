{{/* Schema Loader - reads complete schema from data/_gen directory */}}
{{/* IMPORTANT: Returns schema via .Scratch, not as return value */}}
{{/* Usage: {{ partial "frontmatter/load-schema.html" . }} */}}
{{/*        {{ $schema := .Scratch.Get "frontmatter_schema" }} */}}

{{- $schema := dict -}}

{{/* Load schema from data/_gen directory (generated by PRSDM-9508) */}}
{{- $schemaData := index .Site.Data "_gen" "frontmatter-schema" -}}

{{- if not $schemaData -}}
  {{- warnf "frontmatter-schema.json not found in data/_gen/. Run schema generation first." -}}
  {{- $schema = dict -}}
{{- else -}}
  {{- $schema = $schemaData -}}
{{- end -}}

{{/* Store in scratch for retrieval */}}
{{- .Scratch.Set "frontmatter_schema" $schema -}}
