{{ $items := slice }}
{{ $seenItems := dict }}

{{ range (union .Site.RegularPages .Site.Sections) }}
    {{ range $searchmapItem := (partial "searchmap/item" (dict "Page" . "Level" 1)) }}
        {{ if not (index $seenItems $searchmapItem.id) }}
            {{ $items = $items | append $searchmapItem }}
            {{ $seenItems = merge $seenItems (dict $searchmapItem.id true) }}
        {{ end }}
    {{ end }}
{{ end }}

{{ return $items }}
